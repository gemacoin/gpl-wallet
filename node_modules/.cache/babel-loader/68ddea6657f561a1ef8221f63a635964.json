{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SettingsButton = void 0;\n\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nvar react_1 = require(\"react\");\n\nvar core_1 = require(\"@material-ui/core\");\n\nvar icons_1 = require(\"@material-ui/icons\");\n\nvar material_ui_popup_state_1 = __importStar(require(\"material-ui-popup-state\"));\n\nvar Swap_1 = require(\"../context/Swap\");\n\nvar Dex_1 = require(\"../context/Dex\");\n\nvar OpenOrdersDialog_1 = __importDefault(require(\"./OpenOrdersDialog\"));\n\nvar useStyles = (0, core_1.makeStyles)(function (theme) {\n  return {\n    tab: {\n      width: \"50%\"\n    },\n    table: {},\n    settingsButton: {\n      padding: 0,\n      color: theme.palette.primary.main\n    },\n    closeAccountSwitchLabel: {\n      color: theme.palette.text.secondary\n    },\n    fairAutoSelected: {\n      backgroundColor: theme.palette.primary.main,\n      padding: \"3px 5px\",\n      borderRadius: \"10px\",\n      color: theme.palette.primary.contrastText,\n      fontWeight: 700\n    },\n    fairAuto: {\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : theme.palette.secondary.main,\n      padding: \"3px 5px\",\n      borderRadius: \"10px\",\n      boxShadow: \"none\"\n    }\n  };\n});\n\nfunction SettingsButton() {\n  var styles = useStyles();\n  return (0, jsx_runtime_1.jsx)(material_ui_popup_state_1.default, __assign({\n    variant: \"popover\"\n  }, {\n    children: //@ts-ignore\n    function (popupState) {\n      return (0, jsx_runtime_1.jsxs)(\"div\", {\n        children: [(0, jsx_runtime_1.jsx)(core_1.IconButton, __assign({}, (0, material_ui_popup_state_1.bindTrigger)(popupState), {\n          className: styles.settingsButton\n        }, {\n          children: (0, jsx_runtime_1.jsx)(icons_1.SettingsOutlined, {}, void 0)\n        }), void 0), (0, jsx_runtime_1.jsx)(core_1.Popover, __assign({}, (0, material_ui_popup_state_1.bindPopover)(popupState), {\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"left\"\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"right\"\n          },\n          PaperProps: {\n            style: {\n              borderRadius: \"10px\",\n              boxShadow: \"0px 0px 30px 5px rgba(0,0,0,0.075)\"\n            }\n          }\n        }, {\n          children: (0, jsx_runtime_1.jsx)(SettingsDetails, {}, void 0)\n        }), void 0)]\n      }, void 0);\n    }\n  }), void 0);\n}\n\nexports.SettingsButton = SettingsButton;\n\nfunction SettingsDetails() {\n  var styles = useStyles();\n\n  var _a = (0, Swap_1.useSwapContext)(),\n      slippage = _a.slippage,\n      setSlippage = _a.setSlippage,\n      fairOverride = _a.fairOverride,\n      setFairOverride = _a.setFairOverride;\n\n  var _b = (0, react_1.useState)(false),\n      showSettingsDialog = _b[0],\n      setShowSettingsDialog = _b[1];\n\n  var fair = (0, Swap_1.useSwapFair)();\n  var swapClient = (0, Dex_1.useDexContext)().swapClient;\n\n  var setSlippageHandler = function (value) {\n    setSlippage(!value || value < 0 ? 0 : value);\n  };\n\n  return (0, jsx_runtime_1.jsxs)(\"div\", __assign({\n    style: {\n      padding: \"15px\",\n      width: \"305px\"\n    }\n  }, {\n    children: [(0, jsx_runtime_1.jsx)(core_1.Typography, __assign({\n      style: {\n        fontWeight: \"bold\"\n      }\n    }, {\n      children: \"Settings\"\n    }), void 0), (0, jsx_runtime_1.jsxs)(\"div\", {\n      children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({\n        style: {\n          marginTop: \"10px\"\n        }\n      }, {\n        children: [(0, jsx_runtime_1.jsx)(core_1.Typography, __assign({\n          color: \"textSecondary\",\n          style: {\n            fontSize: \"12px\"\n          }\n        }, {\n          children: \"Slippage tolerance\"\n        }), void 0), (0, jsx_runtime_1.jsx)(core_1.TextField, {\n          type: \"number\",\n          placeholder: \"Error tolerance percentage\",\n          value: slippage,\n          onChange: function (e) {\n            return setSlippageHandler(parseFloat(e.target.value));\n          },\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            flexDirection: \"column\"\n          },\n          InputProps: {\n            endAdornment: (0, jsx_runtime_1.jsx)(core_1.InputAdornment, __assign({\n              position: \"end\"\n            }, {\n              children: \"%\"\n            }), void 0)\n          }\n        }, void 0)]\n      }), void 0), (0, jsx_runtime_1.jsxs)(\"div\", __assign({\n        style: {\n          marginTop: \"10px\"\n        }\n      }, {\n        children: [(0, jsx_runtime_1.jsx)(core_1.Typography, __assign({\n          color: \"textSecondary\",\n          style: {\n            fontSize: \"12px\"\n          }\n        }, {\n          children: \"Fair price\"\n        }), void 0), (0, jsx_runtime_1.jsxs)(\"div\", __assign({\n          style: {\n            display: \"flex\"\n          }\n        }, {\n          children: [(0, jsx_runtime_1.jsx)(core_1.TextField, {\n            type: \"number\",\n            placeholder: \"Fair price override\",\n            value: fair,\n            onChange: function (e) {\n              return setFairOverride(parseFloat(e.target.value));\n            },\n            style: {\n              marginRight: \"10px\",\n              flex: 1,\n              display: \"flex\",\n              justifyContent: \"center\",\n              flexDirection: \"column\"\n            },\n            disabled: fairOverride === null\n          }, void 0), (0, jsx_runtime_1.jsx)(core_1.Button, __assign({\n            component: \"div\",\n            variant: \"contained\",\n            onClick: function () {\n              if (fair === undefined) {\n                console.error(\"Fair is undefined\");\n                return;\n              }\n\n              if (fairOverride === null) {\n                setFairOverride(fair);\n              } else {\n                setFairOverride(null);\n              }\n            },\n            className: fairOverride === null ? styles.fairAutoSelected : styles.fairAuto\n          }, {\n            children: \"Auto\"\n          }), void 0)]\n        }), void 0)]\n      }), void 0), (0, jsx_runtime_1.jsx)(\"div\", __assign({\n        style: {\n          margin: \"10px 0px\"\n        }\n      }, {\n        children: (0, jsx_runtime_1.jsx)(CloseNewAccountsSwitch, {}, void 0)\n      }), void 0), (0, jsx_runtime_1.jsx)(core_1.Button, __assign({\n        variant: \"contained\",\n        fullWidth: true,\n        disabled: swapClient.program.provider.wallet.publicKey === null,\n        onClick: function () {\n          return setShowSettingsDialog(true);\n        }\n      }, {\n        children: \"Manage Dex Accounts\"\n      }), void 0)]\n    }, void 0), (0, jsx_runtime_1.jsx)(OpenOrdersDialog_1.default, {\n      open: showSettingsDialog,\n      onClose: function () {\n        return setShowSettingsDialog(false);\n      }\n    }, void 0)]\n  }), void 0);\n}\n\nfunction CloseNewAccountsSwitch() {\n  var styles = useStyles();\n\n  var _a = (0, Swap_1.useSwapContext)(),\n      isClosingNewAccounts = _a.isClosingNewAccounts,\n      setIsClosingNewAccounts = _a.setIsClosingNewAccounts;\n\n  return (0, jsx_runtime_1.jsx)(core_1.FormGroup, __assign({\n    style: {\n      display: \"none\"\n    },\n    row: true\n  }, {\n    children: (0, jsx_runtime_1.jsx)(core_1.FormControlLabel, {\n      classes: {\n        label: styles.closeAccountSwitchLabel\n      },\n      labelPlacement: \"start\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginLeft: 0,\n        width: \"100%\"\n      },\n      control: (0, jsx_runtime_1.jsx)(core_1.Switch, {\n        checked: isClosingNewAccounts,\n        onChange: function () {\n          return setIsClosingNewAccounts(!isClosingNewAccounts);\n        },\n        color: \"primary\"\n      }, void 0),\n      label: \"Close new accounts\"\n    }, void 0)\n  }), void 0);\n}","map":{"version":3,"sources":["/home/imentus/spl-token-wallet/node_modules/@project-serum/swap-ui/dist/components/Settings.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","SettingsButton","jsx_runtime_1","require","react_1","core_1","icons_1","material_ui_popup_state_1","Swap_1","Dex_1","OpenOrdersDialog_1","useStyles","makeStyles","theme","tab","width","table","settingsButton","padding","color","palette","primary","main","closeAccountSwitchLabel","text","secondary","fairAutoSelected","backgroundColor","borderRadius","contrastText","fontWeight","fairAuto","type","light","boxShadow","styles","jsx","default","variant","children","popupState","jsxs","IconButton","bindTrigger","className","SettingsOutlined","Popover","bindPopover","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","style","SettingsDetails","_a","useSwapContext","slippage","setSlippage","fairOverride","setFairOverride","_b","useState","showSettingsDialog","setShowSettingsDialog","fair","useSwapFair","swapClient","useDexContext","setSlippageHandler","Typography","marginTop","fontSize","TextField","placeholder","onChange","e","parseFloat","target","display","justifyContent","flexDirection","InputProps","endAdornment","InputAdornment","position","marginRight","flex","disabled","Button","component","onClick","console","error","margin","CloseNewAccountsSwitch","fullWidth","program","provider","wallet","publicKey","open","onClose","isClosingNewAccounts","setIsClosingNewAccounts","FormGroup","row","FormControlLabel","classes","label","labelPlacement","marginLeft","control","Switch","checked"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsButton = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar core_1 = require(\"@material-ui/core\");\nvar icons_1 = require(\"@material-ui/icons\");\nvar material_ui_popup_state_1 = __importStar(require(\"material-ui-popup-state\"));\nvar Swap_1 = require(\"../context/Swap\");\nvar Dex_1 = require(\"../context/Dex\");\nvar OpenOrdersDialog_1 = __importDefault(require(\"./OpenOrdersDialog\"));\nvar useStyles = (0, core_1.makeStyles)(function (theme) { return ({\n    tab: {\n        width: \"50%\",\n    },\n    table: {},\n    settingsButton: {\n        padding: 0,\n        color: theme.palette.primary.main,\n    },\n    closeAccountSwitchLabel: {\n        color: theme.palette.text.secondary,\n    },\n    fairAutoSelected: {\n        backgroundColor: theme.palette.primary.main,\n        padding: \"3px 5px\",\n        borderRadius: \"10px\",\n        color: theme.palette.primary.contrastText,\n        fontWeight: 700,\n    },\n    fairAuto: {\n        backgroundColor: theme.palette.type === \"dark\"\n            ? theme.palette.secondary.light\n            : theme.palette.secondary.main,\n        padding: \"3px 5px\",\n        borderRadius: \"10px\",\n        boxShadow: \"none\",\n    },\n}); });\nfunction SettingsButton() {\n    var styles = useStyles();\n    return ((0, jsx_runtime_1.jsx)(material_ui_popup_state_1.default, __assign({ variant: \"popover\" }, { children: \n        //@ts-ignore\n        function (popupState) { return ((0, jsx_runtime_1.jsxs)(\"div\", { children: [(0, jsx_runtime_1.jsx)(core_1.IconButton, __assign({}, (0, material_ui_popup_state_1.bindTrigger)(popupState), { className: styles.settingsButton }, { children: (0, jsx_runtime_1.jsx)(icons_1.SettingsOutlined, {}, void 0) }), void 0), (0, jsx_runtime_1.jsx)(core_1.Popover, __assign({}, (0, material_ui_popup_state_1.bindPopover)(popupState), { anchorOrigin: {\n                        vertical: \"bottom\",\n                        horizontal: \"left\",\n                    }, transformOrigin: {\n                        vertical: \"top\",\n                        horizontal: \"right\",\n                    }, PaperProps: {\n                        style: {\n                            borderRadius: \"10px\",\n                            boxShadow: \"0px 0px 30px 5px rgba(0,0,0,0.075)\",\n                        },\n                    } }, { children: (0, jsx_runtime_1.jsx)(SettingsDetails, {}, void 0) }), void 0)] }, void 0)); } }), void 0));\n}\nexports.SettingsButton = SettingsButton;\nfunction SettingsDetails() {\n    var styles = useStyles();\n    var _a = (0, Swap_1.useSwapContext)(), slippage = _a.slippage, setSlippage = _a.setSlippage, fairOverride = _a.fairOverride, setFairOverride = _a.setFairOverride;\n    var _b = (0, react_1.useState)(false), showSettingsDialog = _b[0], setShowSettingsDialog = _b[1];\n    var fair = (0, Swap_1.useSwapFair)();\n    var swapClient = (0, Dex_1.useDexContext)().swapClient;\n    var setSlippageHandler = function (value) {\n        setSlippage(!value || value < 0 ? 0 : value);\n    };\n    return ((0, jsx_runtime_1.jsxs)(\"div\", __assign({ style: { padding: \"15px\", width: \"305px\" } }, { children: [(0, jsx_runtime_1.jsx)(core_1.Typography, __assign({ style: { fontWeight: \"bold\" } }, { children: \"Settings\" }), void 0), (0, jsx_runtime_1.jsxs)(\"div\", { children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({ style: { marginTop: \"10px\" } }, { children: [(0, jsx_runtime_1.jsx)(core_1.Typography, __assign({ color: \"textSecondary\", style: { fontSize: \"12px\" } }, { children: \"Slippage tolerance\" }), void 0), (0, jsx_runtime_1.jsx)(core_1.TextField, { type: \"number\", placeholder: \"Error tolerance percentage\", value: slippage, onChange: function (e) { return setSlippageHandler(parseFloat(e.target.value)); }, style: {\n                                    display: \"flex\",\n                                    justifyContent: \"center\",\n                                    flexDirection: \"column\",\n                                }, InputProps: {\n                                    endAdornment: (0, jsx_runtime_1.jsx)(core_1.InputAdornment, __assign({ position: \"end\" }, { children: \"%\" }), void 0),\n                                } }, void 0)] }), void 0), (0, jsx_runtime_1.jsxs)(\"div\", __assign({ style: { marginTop: \"10px\" } }, { children: [(0, jsx_runtime_1.jsx)(core_1.Typography, __assign({ color: \"textSecondary\", style: { fontSize: \"12px\" } }, { children: \"Fair price\" }), void 0), (0, jsx_runtime_1.jsxs)(\"div\", __assign({ style: { display: \"flex\" } }, { children: [(0, jsx_runtime_1.jsx)(core_1.TextField, { type: \"number\", placeholder: \"Fair price override\", value: fair, onChange: function (e) { return setFairOverride(parseFloat(e.target.value)); }, style: {\n                                            marginRight: \"10px\",\n                                            flex: 1,\n                                            display: \"flex\",\n                                            justifyContent: \"center\",\n                                            flexDirection: \"column\",\n                                        }, disabled: fairOverride === null }, void 0), (0, jsx_runtime_1.jsx)(core_1.Button, __assign({ component: \"div\", variant: \"contained\", onClick: function () {\n                                            if (fair === undefined) {\n                                                console.error(\"Fair is undefined\");\n                                                return;\n                                            }\n                                            if (fairOverride === null) {\n                                                setFairOverride(fair);\n                                            }\n                                            else {\n                                                setFairOverride(null);\n                                            }\n                                        }, className: fairOverride === null\n                                            ? styles.fairAutoSelected\n                                            : styles.fairAuto }, { children: \"Auto\" }), void 0)] }), void 0)] }), void 0), (0, jsx_runtime_1.jsx)(\"div\", __assign({ style: { margin: \"10px 0px\" } }, { children: (0, jsx_runtime_1.jsx)(CloseNewAccountsSwitch, {}, void 0) }), void 0), (0, jsx_runtime_1.jsx)(core_1.Button, __assign({ variant: \"contained\", fullWidth: true, disabled: swapClient.program.provider.wallet.publicKey === null, onClick: function () { return setShowSettingsDialog(true); } }, { children: \"Manage Dex Accounts\" }), void 0)] }, void 0), (0, jsx_runtime_1.jsx)(OpenOrdersDialog_1.default, { open: showSettingsDialog, onClose: function () { return setShowSettingsDialog(false); } }, void 0)] }), void 0));\n}\nfunction CloseNewAccountsSwitch() {\n    var styles = useStyles();\n    var _a = (0, Swap_1.useSwapContext)(), isClosingNewAccounts = _a.isClosingNewAccounts, setIsClosingNewAccounts = _a.setIsClosingNewAccounts;\n    return ((0, jsx_runtime_1.jsx)(core_1.FormGroup, __assign({ style: { display: \"none\" }, row: true }, { children: (0, jsx_runtime_1.jsx)(core_1.FormControlLabel, { classes: { label: styles.closeAccountSwitchLabel }, labelPlacement: \"start\", style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                marginLeft: 0,\n                width: \"100%\",\n            }, control: (0, jsx_runtime_1.jsx)(core_1.Switch, { checked: isClosingNewAccounts, onChange: function () { return setIsClosingNewAccounts(!isClosingNewAccounts); }, color: \"primary\" }, void 0), label: \"Close new accounts\" }, void 0) }), void 0));\n}\n"]},"metadata":{},"sourceType":"script"}